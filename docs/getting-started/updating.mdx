---
sidebar_position: 300
title: "ğŸ”„ ç‰ˆæœ¬æ›´æ–°æŒ‡å—"
---

## Open WebUI æ›´æ–°é—®é¢˜è§£ç­”

å¦‚æœæ‚¨éœ€è¦å°†æœ¬åœ° Docker éƒ¨ç½²çš„ Open WebUI æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ **Watchtower** è‡ªåŠ¨æ›´æ–°æˆ–æ‰‹åŠ¨æ›´æ–°å®¹å™¨ã€‚ä»¥ä¸‹æ˜¯è¯¦ç»†çš„æ›´æ–°æ­¥éª¤è¯´æ˜ã€‚

### æ‰‹åŠ¨æ›´æ–°æµç¨‹

1. **åœæ­¢å¹¶ç§»é™¤å½“å‰å®¹å™¨**ï¼š

   æ‰§è¡Œæ­¤æ­¥éª¤å°†åœæ­¢å¹¶ç§»é™¤è¿è¡Œä¸­çš„å®¹å™¨ï¼Œä½†ä¼šä¿ç•™å­˜å‚¨åœ¨ Docker å·ä¸­çš„æ•°æ®ã€‚ï¼ˆæ³¨æ„ï¼šå¦‚æœæ‚¨çš„å®¹å™¨åç§°ä¸æ˜¯ `open-webui`ï¼Œè¯·åœ¨æ‰€æœ‰å‘½ä»¤ä¸­æ›¿æ¢ä¸ºæ‚¨çš„å®é™…å®¹å™¨åç§°ã€‚ï¼‰

```bash
docker rm -f open-webui
```

2. **è·å–æœ€æ–°ç‰ˆæœ¬é•œåƒ**ï¼š

   æ­¤å‘½ä»¤å°†æ‹‰å–æœ€æ–°çš„ Docker é•œåƒï¼Œä½†ä¸ä¼šå½±å“ç°æœ‰å®¹å™¨æˆ–æ•°æ®ã€‚

```bash
docker pull ghcr.io/open-webui/open-webui:main
```

:::info
**âš ï¸ æ¸…é™¤ç°æœ‰æ•°æ®ï¼ˆè­¦å‘Šï¼šéå¿…è¦è¯·å‹¿æ‰§è¡Œï¼ï¼‰**ã€‚å¦‚æ— ç‰¹æ®Šéœ€æ±‚ï¼Œè¯·ç›´æ¥è·³è¿‡æ­¤æ­¥éª¤ï¼š

   å¦‚æœæ‚¨ç¡®å®éœ€è¦å®Œå…¨é‡æ–°å¼€å§‹ï¼Œå¯ä»¥åˆ é™¤ Docker å·ä¸­çš„æ‰€æœ‰æ•°æ®ã€‚è¯·æ³¨æ„ï¼Œæ­¤æ“ä½œå°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰èŠå¤©è®°å½•å’Œé…ç½®æ•°æ®ã€‚

   æ•°æ®å­˜å‚¨åœ¨åä¸º `open-webui` çš„ Docker å·ä¸­ï¼Œä½¿ç”¨ä»¥ä¸‹å‘½ä»¤åˆ é™¤ï¼š

```bash
docker volume rm open-webui
```
:::

3. **ä½¿ç”¨æ–°ç‰ˆæœ¬é‡å¯å®¹å™¨**ï¼š

   æ­¤æ­¥éª¤å°†ä½¿ç”¨æœ€æ–°é•œåƒå¯åŠ¨å®¹å™¨ã€‚å¦‚æœæ‚¨ä¿ç•™äº†æ•°æ®å·ï¼Œæ‰€æœ‰å†å²æ•°æ®å°†è¢«ä¿ç•™ï¼›å¦‚æœåˆ é™¤äº†æ•°æ®å·ï¼Œå°†ä»ç©ºç™½å¼€å§‹ã€‚**æ³¨æ„ï¼šå¦‚éœ€ä½¿ç”¨ Nvidia GPUï¼Œè¯·åœ¨å‘½ä»¤ä¸­æ·»åŠ  `--gpus all` å‚æ•°**

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main
```

## ä½¿ç”¨ Watchtower å®ç°è‡ªåŠ¨æ›´æ–°

[Watchtower](https://containrrr.dev/watchtower/) æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ–å®¹å™¨æ›´æ–°å·¥å…·ï¼Œæä¾›ä»¥ä¸‹ä¸‰ç§æ›´æ–°æ–¹å¼ï¼š

### æ–¹å¼ 1ï¼šå•æ¬¡æ›´æ–°

æ‰§è¡Œä¸€æ¬¡æ€§æ›´æ–°æ“ä½œï¼Œè‡ªåŠ¨å®Œæˆåœæ­¢å®¹å™¨ã€æ‹‰å–æ–°é•œåƒå’Œé‡å¯å®¹å™¨çš„å…¨è¿‡ç¨‹ï¼ˆ**ä½¿ç”¨ GPU æ—¶éœ€æ·»åŠ  `--gpus all` å‚æ•°**ï¼‰ï¼š

```bash
docker run --rm --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower --run-once open-webui
```

### æ–¹å¼ 2ï¼šç‹¬ç«‹ç›‘æ§å®¹å™¨

å°† Watchtower ä½œä¸ºç‹¬ç«‹çš„ç›‘æ§å®¹å™¨è¿è¡Œï¼ŒæŒç»­ç›‘æ§å¹¶è‡ªåŠ¨æ›´æ–° Open WebUIï¼š

```bash
docker run -d --name watchtower \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower -i 300 open-webui
```

æ­¤é…ç½®ä½¿ Watchtower åœ¨åå°è¿è¡Œï¼Œæ¯ 5 åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥ä¸€æ¬¡æ›´æ–°ã€‚

### æ–¹å¼ 3ï¼šDocker Compose é›†æˆ

é€šè¿‡ `docker-compose.yml` é…ç½®æ–‡ä»¶é›†æˆ Watchtowerï¼ˆ**ä½¿ç”¨ GPU æ—¶éœ€æ·»åŠ  `--gpus all` å‚æ•°**ï¼‰ï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 300 open-webui
    depends_on:
      - open-webui

volumes:
  open-webui:
```

æ­¤é…ç½®å°†è‡ªåŠ¨åŒ–éƒ¨ç½² Watchtowerï¼Œå®ç°æ¯ 5 åˆ†é’Ÿè‡ªåŠ¨æ£€æŸ¥æ›´æ–°ã€‚

## æ•°æ®æŒä¹…åŒ–è¯´æ˜

æ‰€æœ‰ç”¨æˆ·æ•°æ®éƒ½å­˜å‚¨åœ¨åä¸º `open-webui` çš„ Docker å·ä¸­ã€‚è™½ç„¶å·çš„å®é™…è·¯å¾„ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š

```bash
docker volume inspect open-webui
```

æ­¤å‘½ä»¤å°†æ˜¾ç¤ºå·çš„é…ç½®ä¿¡æ¯ï¼ŒåŒ…æ‹¬å®é™…å­˜å‚¨ä½ç½®ï¼ˆé€šå¸¸åœ¨ `/var/lib/docker/volumes/open-webui/_data`ï¼‰ã€‚
