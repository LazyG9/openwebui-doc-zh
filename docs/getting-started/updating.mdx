---
sidebar_position: 300 
title: "ğŸ”„ ç³»ç»Ÿæ›´æ–°æŒ‡å—"
---

## Open WebUI æ›´æ–°é—®é¢˜æ’æŸ¥

è¦å°†æœ¬åœ° Docker éƒ¨ç½²çš„ Open WebUI æ›´æ–°åˆ°æœ€æ–°ç‰ˆæœ¬ï¼Œä½ å¯ä»¥é€‰æ‹©ä½¿ç”¨ **Watchtower** è‡ªåŠ¨æ›´æ–°æˆ–æ‰‹åŠ¨æ›´æ–°å®¹å™¨ã€‚ä¸‹é¢ä»‹ç»è¿™ä¸¤ç§æ›´æ–°æ–¹å¼çš„å…·ä½“æ“ä½œæ­¥éª¤ã€‚

### æ‰‹åŠ¨æ›´æ–°æ­¥éª¤

1. **åœæ­¢å¹¶ç§»é™¤å½“å‰å®¹å™¨**ï¼š

   æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ä¼šåœæ­¢å¹¶ç§»é™¤å½“å‰è¿è¡Œçš„å®¹å™¨ï¼Œä½†ä¸ä¼šåˆ é™¤ Docker å·ä¸­çš„æ•°æ®ã€‚ï¼ˆæ³¨æ„ï¼šå¦‚æœä½ çš„å®¹å™¨åç§°ä¸æ˜¯ `open-webui`ï¼Œè¯·å°†å‘½ä»¤ä¸­çš„å®¹å™¨åæ›¿æ¢ä¸ºå®é™…åç§°ï¼‰

```bash
docker rm -f open-webui
```

2. **è·å–æœ€æ–°ç‰ˆæœ¬é•œåƒ**ï¼š

   ä¸‹é¢çš„å‘½ä»¤å°†æ‹‰å–æœ€æ–°çš„ Docker é•œåƒï¼ˆæ³¨æ„ï¼šè¿™ä¸ä¼šå½±å“ç°æœ‰å®¹å™¨å’Œæ•°æ®ï¼‰

```bash
docker pull ghcr.io/open-webui/open-webui:main
```

:::warning
**âš ï¸ æ•°æ®æ¸…ç†ï¼ˆè°¨æ…æ“ä½œï¼ï¼‰**

å¦‚æœä½ ç¡®å®éœ€è¦æ¸…é™¤æ‰€æœ‰æ•°æ®é‡æ–°å¼€å§‹ï¼Œå¯ä»¥åˆ é™¤ Docker å·ã€‚è¯·æ³¨æ„ï¼Œè¿™å°†æ°¸ä¹…åˆ é™¤æ‰€æœ‰èŠå¤©è®°å½•å’Œé…ç½®æ•°æ®ï¼å¦‚æœä¸éœ€è¦æ¸…é™¤æ•°æ®ï¼Œè¯·ç›´æ¥è·³åˆ°ä¸‹ä¸€æ­¥ã€‚

åˆ é™¤æ•°æ®å·çš„å‘½ä»¤ï¼š
```bash
docker volume rm open-webui
```
:::

3. **å¯åŠ¨æ›´æ–°åçš„å®¹å™¨**ï¼š

   ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤å¯åŠ¨æ–°å®¹å™¨ã€‚å¦‚æœä¿ç•™äº†åŸæœ‰æ•°æ®å·ï¼Œä½ çš„æ‰€æœ‰æ•°æ®éƒ½ä¼šä¿æŒä¸å˜ã€‚

   > ğŸ’¡ æç¤ºï¼šå¦‚æœéœ€è¦ Nvidia GPU æ”¯æŒï¼Œè¯·åœ¨å‘½ä»¤ä¸­æ·»åŠ  `--gpus all` å‚æ•°

```bash
docker run -d -p 3000:8080 -v open-webui:/app/backend/data --name open-webui ghcr.io/open-webui/open-webui:main
```

## ä½¿ç”¨ Watchtower å®ç°è‡ªåŠ¨æ›´æ–°

[Watchtower](https://containrrr.dev/watchtower/) æ˜¯ä¸€ä¸ªè‡ªåŠ¨åŒ– Docker å®¹å™¨æ›´æ–°çš„å·¥å…·ã€‚ä»¥ä¸‹æ˜¯ä¸‰ç§é…ç½®æ–¹å¼ï¼š

### æ–¹æ¡ˆä¸€ï¼šæ‰§è¡Œä¸€æ¬¡æ€§æ›´æ–°

é€‚ç”¨äºéœ€è¦æ‰‹åŠ¨è§¦å‘æ›´æ–°çš„åœºæ™¯ï¼š

```bash
docker run --rm --volume /var/run/docker.sock:/var/run/docker.sock containrrr/watchtower --run-once open-webui
```

### æ–¹æ¡ˆäºŒï¼šç‹¬ç«‹ç›‘æ§å®¹å™¨

è®¾ç½®ä¸€ä¸ªç‹¬ç«‹çš„ Watchtower å®¹å™¨æ¥ç›‘æ§æ›´æ–°ï¼š

```bash
docker run -d --name watchtower \
  --volume /var/run/docker.sock:/var/run/docker.sock \
  containrrr/watchtower -i 300 open-webui
```

è¿™å°†åˆ›å»ºä¸€ä¸ªåå°è¿è¡Œçš„ Watchtower å®¹å™¨ï¼Œæ¯ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ›´æ–°ã€‚

### æ–¹æ¡ˆä¸‰ï¼šDocker Compose é›†æˆ

é€šè¿‡ `docker-compose.yml` é…ç½®è‡ªåŠ¨æ›´æ–°ï¼š

```yml
version: '3'
services:
  open-webui:
    image: ghcr.io/open-webui/open-webui:main
    ports:
      - "3000:8080"
    volumes:
      - open-webui:/app/backend/data

  watchtower:
    image: containrrr/watchtower
    volumes:
      - /var/run/docker.sock:/var/run/docker.sock
    command: --interval 300 open-webui
    depends_on:
      - open-webui

volumes:
  open-webui:
```

æ­¤é…ç½®ä¼šè‡ªåŠ¨æ¯ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ›´æ–°ã€‚

## æ•°æ®å­˜å‚¨è¯´æ˜

æ‰€æœ‰ç”¨æˆ·æ•°æ®éƒ½å­˜å‚¨åœ¨åä¸º `open-webui` çš„ Docker å·ä¸­ã€‚è™½ç„¶å·çš„è·¯å¾„ä¸èƒ½ç›´æ¥è®¿é—®ï¼Œä½†å¯ä»¥é€šè¿‡ä»¥ä¸‹å‘½ä»¤æŸ¥çœ‹è¯¦ç»†ä¿¡æ¯ï¼š

```bash
docker volume inspect open-webui
```

è¯¥å‘½ä»¤ä¼šæ˜¾ç¤ºå·çš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬å­˜å‚¨ä½ç½®ï¼ˆé€šå¸¸åœ¨ `/var/lib/docker/volumes/open-webui/_data`ï¼‰ã€‚
