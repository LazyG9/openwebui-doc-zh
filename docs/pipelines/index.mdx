---
sidebar_position: 1000
title: "âš¡ Pipelines"
---

<p align="center">
  <a href="#">
    <img src="/img/pipelines/header.png" alt="Pipelines Logo" />
  </a>
</p>

# Pipelines: UIæ— å…³çš„ OpenAI API æ’ä»¶æ¡†æ¶

:::tip
å¦‚æœä½ çš„ç›®æ ‡ä»…ä»…æ˜¯æ·»åŠ å¯¹ Anthropic ç­‰å…¶ä»–æä¾›å•†çš„æ”¯æŒæˆ–åŸºæœ¬è¿‡æ»¤å™¨ï¼Œä½ å¯èƒ½ä¸éœ€è¦ Pipelinesã€‚å¯¹äºè¿™äº›æƒ…å†µï¼Œ[Open WebUI Functions](/features/plugin/functions) æ˜¯æ›´å¥½çš„é€‰æ‹© â€”â€” å®ƒæ˜¯å†…ç½®çš„ï¼Œæ›´åŠ æ–¹ä¾¿ï¼Œä¹Ÿæ›´å®¹æ˜“é…ç½®ã€‚ç„¶è€Œï¼Œå½“ä½ éœ€è¦å¤„ç†è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆä¾‹å¦‚ï¼Œè¿è¡Œå¤§å‹æ¨¡å‹æˆ–å¤æ‚é€»è¾‘ï¼‰å¹¶å¸Œæœ›å°†å…¶ä»ä¸» Open WebUI å®ä¾‹ä¸­å¸è½½ä»¥è·å¾—æ›´å¥½çš„æ€§èƒ½å’Œå¯æ‰©å±•æ€§æ—¶ï¼ŒPipelines å°±æ´¾ä¸Šç”¨åœºäº†ã€‚
:::

æ¬¢è¿æ¥åˆ° **Pipelines**ï¼Œè¿™æ˜¯ä¸€ä¸ª [Open WebUI](https://github.com/open-webui) è®¡åˆ’ã€‚Pipelines ä¸ºä»»ä½•æ”¯æŒ OpenAI API è§„èŒƒçš„ UI å®¢æˆ·ç«¯å¸¦æ¥æ¨¡å—åŒ–ã€å¯å®šåˆ¶çš„å·¥ä½œæµç¨‹ï¼Œè€Œä¸”è¿˜ä¸æ­¢äºæ­¤ï¼åªéœ€å‡ è¡Œä»£ç ï¼Œå°±èƒ½è½»æ¾æ‰©å±•åŠŸèƒ½ã€é›†æˆç‹¬ç‰¹é€»è¾‘å¹¶åˆ›å»ºåŠ¨æ€å·¥ä½œæµç¨‹ã€‚

## ğŸš€ ä¸ºä»€ä¹ˆé€‰æ‹© Pipelinesï¼Ÿ

- **æ— é™å¯èƒ½ï¼š** è½»æ¾æ·»åŠ è‡ªå®šä¹‰é€»è¾‘å¹¶é›†æˆ Python åº“ï¼Œä» AI ä»£ç†åˆ°å®¶åº­è‡ªåŠ¨åŒ– APIã€‚
- **æ— ç¼é›†æˆï¼š** ä¸ä»»ä½•æ”¯æŒ OpenAI API è§„èŒƒçš„ UI/å®¢æˆ·ç«¯å…¼å®¹ã€‚ï¼ˆä»…æ”¯æŒç®¡é“ç±»å‹çš„ pipelinesï¼›è¿‡æ»¤å™¨ç±»å‹éœ€è¦æ”¯æŒ Pipelines çš„å®¢æˆ·ç«¯ã€‚ï¼‰
- **è‡ªå®šä¹‰é’©å­ï¼š** æ„å»ºå’Œé›†æˆè‡ªå®šä¹‰ç®¡é“ã€‚

### ä½ å¯ä»¥å®ç°çš„ç¤ºä¾‹ï¼š

- [**å‡½æ•°è°ƒç”¨ç®¡é“**](https://github.com/open-webui/pipelines/blob/main/examples/filters/function_calling_filter_pipeline.py)ï¼šè½»æ¾å¤„ç†å‡½æ•°è°ƒç”¨å¹¶ä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘å¢å¼ºä½ çš„åº”ç”¨ç¨‹åºã€‚
- [**è‡ªå®šä¹‰ RAG ç®¡é“**](https://github.com/open-webui/pipelines/blob/main/examples/pipelines/rag/llamaindex_pipeline.py)ï¼šå®ç°æ ¹æ®ä½ éœ€æ±‚å®šåˆ¶çš„å¤æ‚æ£€ç´¢å¢å¼ºç”Ÿæˆç®¡é“ã€‚
- [**ä½¿ç”¨ Langfuse çš„æ¶ˆæ¯ç›‘æ§**](https://github.com/open-webui/pipelines/blob/main/examples/filters/langfuse_filter_pipeline.py)ï¼šä½¿ç”¨ Langfuse å®æ—¶ç›‘æ§å’Œåˆ†ææ¶ˆæ¯äº¤äº’ã€‚
- [**é€Ÿç‡é™åˆ¶è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/rate_limit_filter_pipeline.py)ï¼šæ§åˆ¶è¯·æ±‚æµé‡ä»¥é˜²æ­¢è¶…è¿‡é€Ÿç‡é™åˆ¶ã€‚
- [**ä½¿ç”¨ LibreTranslate çš„å®æ—¶ç¿»è¯‘è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/libretranslate_filter_pipeline.py)ï¼šå°†å®æ—¶ç¿»è¯‘æ— ç¼é›†æˆåˆ°ä½ çš„ LLM äº¤äº’ä¸­ã€‚
- [**æœ‰å®³æ¶ˆæ¯è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py)ï¼šå®ç°è¿‡æ»¤å™¨ä»¥æœ‰æ•ˆæ£€æµ‹å’Œå¤„ç†æœ‰å®³æ¶ˆæ¯ã€‚
- **è¿˜æœ‰æ›´å¤šï¼**ï¼šä½¿ç”¨ Pipelines å’Œ Pythonï¼Œä½ èƒ½å®ç°çš„å¯èƒ½æ€§æ˜¯æ— é™çš„ã€‚[æŸ¥çœ‹æˆ‘ä»¬çš„è„šæ‰‹æ¶](https://github.com/open-webui/pipelines/blob/main/examples/scaffolds)ï¼Œå¿«é€Ÿå¼€å§‹ä½ çš„é¡¹ç›®å¹¶äº†è§£å¦‚ä½•ç®€åŒ–ä½ çš„å¼€å‘è¿‡ç¨‹ï¼

## ğŸ”§ å·¥ä½œåŸç†

<p align="center">
  <a href="#">
    <img src="/img/pipelines/workflow.png" alt="Pipelines å·¥ä½œæµç¨‹" />
  </a>
</p>

å°† Pipelines ä¸ä»»ä½•å…¼å®¹ OpenAI API çš„ UI å®¢æˆ·ç«¯é›†æˆéå¸¸ç®€å•ã€‚å¯åŠ¨ä½ çš„ Pipelines å®ä¾‹ï¼Œå¹¶åœ¨å®¢æˆ·ç«¯å°† OpenAI URL è®¾ç½®ä¸º Pipelines URLã€‚å°±è¿™æ ·ï¼ä½ å°±å¯ä»¥åˆ©ç”¨ä»»ä½• Python åº“æ¥æ»¡è¶³ä½ çš„éœ€æ±‚äº†ã€‚

## âš¡ ä½¿ç”¨ Docker å¿«é€Ÿå¼€å§‹

:::warning
Pipelines æ˜¯ä¸€ä¸ªå¯æ‰§è¡Œä»»æ„ä»£ç çš„æ’ä»¶ç³»ç»Ÿ â€”â€” **ä¸è¦ä»ä½ ä¸ä¿¡ä»»çš„æ¥æºè·å–éšæœºç®¡é“**ã€‚
:::

ä½¿ç”¨ Docker è¿›è¡Œç®€åŒ–è®¾ç½®ï¼š

1. **è¿è¡Œ Pipelines å®¹å™¨ï¼š**

   ```sh
   docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
   ```

2. **è¿æ¥åˆ° Open WebUIï¼š**

   - åœ¨ Open WebUI ä¸­å¯¼èˆªåˆ° **ç®¡ç†é¢æ¿ > è®¾ç½® > è¿æ¥** éƒ¨åˆ†ã€‚
   - åœ¨æ­¤é¡µé¢ä¸Šï¼Œä½ å¯ä»¥æŒ‰ä¸‹ `+` æŒ‰é’®æ·»åŠ å¦ä¸€ä¸ªè¿æ¥ã€‚
   - å°† API URL è®¾ç½®ä¸º `http://localhost:9099`ï¼ŒAPI å¯†é’¥è®¾ç½®ä¸º `0p3n-w3bu!`ã€‚
   - æ·»åŠ å¹¶éªŒè¯ä½ çš„ pipelines è¿æ¥åï¼Œä½ ä¼šçœ‹åˆ°åœ¨å·²æ·»åŠ è¿æ¥çš„ API Base URL å­—æ®µä¸­å‡ºç°ä¸€ä¸ªå›¾æ ‡ã€‚å½“é¼ æ ‡æ‚¬åœæ—¶ï¼Œè¯¥å›¾æ ‡ä¼šæ ‡è®°ä¸º `Pipelines`ã€‚ä½ çš„ pipelines ç°åœ¨åº”è¯¥å·²ç»æ¿€æ´»ã€‚

:::info
å¦‚æœä½ çš„ Open WebUI è¿è¡Œåœ¨ Docker å®¹å™¨ä¸­ï¼Œè¯·åœ¨ API URL ä¸­å°† `localhost` æ›¿æ¢ä¸º `host.docker.internal`ã€‚
:::

3. **ç®¡ç†é…ç½®ï¼š**

   - åœ¨ç®¡ç†é¢æ¿ä¸­ï¼Œè½¬åˆ° **ç®¡ç†é¢æ¿ > è®¾ç½® > Pipelines** æ ‡ç­¾é¡µã€‚
   - é€‰æ‹©ä½ æƒ³è¦çš„ç®¡é“å¹¶ç›´æ¥ä» WebUI ä¿®æ”¹é˜€å€¼ã€‚

:::tip
å¦‚æœä½ æ— æ³•è¿æ¥ï¼Œè¿™å¾ˆå¯èƒ½æ˜¯ Docker ç½‘ç»œé—®é¢˜ã€‚æˆ‘ä»¬é¼“åŠ±ä½ è‡ªè¡Œæ’æŸ¥å¹¶åœ¨è®¨è®ºè®ºå›ä¸­åˆ†äº«ä½ çš„æ–¹æ³•å’Œè§£å†³æ–¹æ¡ˆã€‚
:::

å¦‚æœä½ éœ€è¦å®‰è£…å¸¦æœ‰é¢å¤–ä¾èµ–é¡¹çš„è‡ªå®šä¹‰ç®¡é“ï¼š

- **è¿è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

  ```sh
  docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -e PIPELINES_URLS="https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py" -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
  ```

æˆ–è€…ï¼Œå¦‚æœç®¡é“æ²¡æœ‰é¢å¤–çš„ä¾èµ–é¡¹ï¼Œä½ ä¹Ÿå¯ä»¥é€šè¿‡å¤åˆ¶å’Œç²˜è´´ç®¡é“ URL ç›´æ¥ä»ç®¡ç†è®¾ç½®å®‰è£…ç®¡é“ã€‚

å°±æ˜¯è¿™æ ·ï¼ä½ ç°åœ¨å¯ä»¥ä½¿ç”¨ Pipelines è½»æ¾æ„å»ºå¯å®šåˆ¶çš„ AI é›†æˆäº†ã€‚å°½æƒ…äº«ç”¨å§ï¼

## ğŸ“¦ å®‰è£…å’Œè®¾ç½®

é€šè¿‡ä»¥ä¸‹å‡ ä¸ªç®€å•çš„æ­¥éª¤å¼€å§‹ä½¿ç”¨ Pipelinesï¼š

1. **ç¡®ä¿å®‰è£…äº† Python 3.11ã€‚** è¿™æ˜¯å”¯ä¸€å®˜æ–¹æ”¯æŒçš„ Python ç‰ˆæœ¬ã€‚
2. **å…‹éš† Pipelines ä»“åº“ï¼š**

   ```sh
   git clone https://github.com/open-webui/pipelines.git
   cd pipelines
   ```

3. **å®‰è£…æ‰€éœ€ä¾èµ–ï¼š**

   ```sh
   pip install -r requirements.txt
   ```

4. **å¯åŠ¨ Pipelines æœåŠ¡å™¨ï¼š**

   ```sh
   sh ./start.sh
   ```

æœåŠ¡å™¨è¿è¡Œåï¼Œå°†å®¢æˆ·ç«¯çš„ OpenAI URL è®¾ç½®ä¸º Pipelines URLã€‚è¿™å°†è§£é” Pipelines çš„å…¨éƒ¨åŠŸèƒ½ï¼Œè®©ä½ èƒ½å¤Ÿé›†æˆä»»ä½• Python åº“å¹¶åˆ›å»ºé€‚åˆä½ éœ€æ±‚çš„è‡ªå®šä¹‰å·¥ä½œæµç¨‹ã€‚

## ğŸ“‚ ç›®å½•ç»“æ„å’Œç¤ºä¾‹

`/pipelines` ç›®å½•æ˜¯ä½ è®¾ç½®çš„æ ¸å¿ƒã€‚åœ¨è¿™é‡Œæ·»åŠ æ–°æ¨¡å—ã€è‡ªå®šä¹‰ç°æœ‰æ¨¡å—å¹¶ç®¡ç†ä½ çš„å·¥ä½œæµç¨‹ã€‚å½“æœåŠ¡å™¨å¯åŠ¨æ—¶ï¼Œ`/pipelines` ç›®å½•ä¸­çš„æ‰€æœ‰ç®¡é“éƒ½å°†**è‡ªåŠ¨åŠ è½½**ã€‚

ä½ å¯ä»¥ä½¿ç”¨ `PIPELINES_DIR` ç¯å¢ƒå˜é‡å°†æ­¤ç›®å½•ä» `/pipelines` æ›´æ”¹ä¸ºå…¶ä»–ä½ç½®ã€‚

### é›†æˆç¤ºä¾‹

åœ¨ `https://github.com/open-webui/pipelines/blob/main/examples` ç›®å½•ä¸­å¯ä»¥æ‰¾åˆ°å„ç§é›†æˆç¤ºä¾‹ã€‚è¿™äº›ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é›†æˆä¸åŒçš„åŠŸèƒ½ï¼Œä¸ºæ„å»ºä½ è‡ªå·±çš„è‡ªå®šä¹‰ç®¡é“æä¾›åŸºç¡€ã€‚

## ğŸ‰ å·¥ä½œè¿›å±•

æˆ‘ä»¬åœ¨ä¸æ–­å‘å±•ï¼æˆ‘ä»¬å¾ˆæƒ³å¬å¬ä½ çš„åé¦ˆï¼Œäº†è§£å“ªäº›é’©å­å’ŒåŠŸèƒ½æœ€é€‚åˆä½ çš„ä½¿ç”¨åœºæ™¯ã€‚æ¬¢è¿è”ç³»æˆ‘ä»¬ï¼Œæˆä¸ºæˆ‘ä»¬ Open WebUI ç¤¾åŒºçš„ä¸€å‘˜ï¼

æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯å°† **Pipelines** æ‰“é€ æˆæˆ‘ä»¬çš„ AI ç•Œé¢ **Open WebUI** çš„ç»ˆææ’ä»¶æ¡†æ¶ã€‚æƒ³è±¡ä¸€ä¸‹ï¼Œ**Open WebUI** å°±åƒæ˜¯ AI ç•Œé¢çš„ WordPressï¼Œè€Œ **Pipelines** å°±æ˜¯å®ƒä¸°å¯Œå¤šæ ·çš„æ’ä»¶ã€‚åŠ å…¥æˆ‘ä»¬è¿™ä¸ªæ¿€åŠ¨äººå¿ƒçš„æ—…ç¨‹å§ï¼ğŸŒ
