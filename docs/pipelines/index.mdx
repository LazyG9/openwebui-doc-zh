---
sidebar_position: 1000
title: "âš¡ Pipelines(ç®¡é“)"
---

<p align="center">
  <a href="#">
    <img src="/img/pipelines/header.png" alt="Pipelines Logo" />
  </a>
</p>

# Pipelinesï¼šUIæ— å…³çš„OpenAI APIæ’ä»¶æ¡†æ¶

:::tip
å¦‚æœä½ åªæ˜¯æƒ³æ·»åŠ å¯¹Anthropicç­‰å…¶ä»–æœåŠ¡æä¾›å•†çš„æ”¯æŒæˆ–åŸºç¡€è¿‡æ»¤åŠŸèƒ½ï¼Œä½ å¯èƒ½å¹¶ä¸éœ€è¦ä½¿ç”¨Pipelinesã€‚å¯¹äºè¿™äº›åœºæ™¯ï¼Œ[Open WebUI Functions](/features/plugin/functions)æ˜¯æ›´å¥½çš„é€‰æ‹©â€”â€”å®ƒæ˜¯å†…ç½®çš„ï¼Œä½¿ç”¨æ›´æ–¹ä¾¿ï¼Œé…ç½®ä¹Ÿæ›´ç®€å•ã€‚ä¸è¿‡ï¼Œå½“ä½ éœ€è¦å¤„ç†è®¡ç®—å¯†é›†å‹ä»»åŠ¡ï¼ˆä¾‹å¦‚è¿è¡Œå¤§å‹æ¨¡å‹æˆ–å¤æ‚é€»è¾‘ï¼‰å¹¶å¸Œæœ›å°†å…¶ä»ä¸»Open WebUIå®ä¾‹ä¸­åˆ†ç¦»å‡ºæ¥ä»¥æå‡æ€§èƒ½å’Œå¯æ‰©å±•æ€§æ—¶ï¼ŒPipelineså°±æ˜¯æœ€ä½³é€‰æ‹©ã€‚
:::

æ¬¢è¿ä½¿ç”¨**Pipelines**ï¼Œè¿™æ˜¯ä¸€ä¸ª[Open WebUI](https://github.com/open-webui)é¡¹ç›®ã€‚Pipelinesä¸ºæ‰€æœ‰æ”¯æŒOpenAI APIè§„èŒƒçš„UIå®¢æˆ·ç«¯æä¾›æ¨¡å—åŒ–ã€å¯å®šåˆ¶çš„å·¥ä½œæµç¨‹ï¼Œè€Œä¸”åŠŸèƒ½è¿œä¸æ­¢äºæ­¤ï¼åªéœ€å‡ è¡Œä»£ç ï¼Œä½ å°±èƒ½è½»æ¾æ‰©å±•åŠŸèƒ½ã€é›†æˆç‰¹å®šé€»è¾‘å’Œåˆ›å»ºåŠ¨æ€å·¥ä½œæµã€‚

## ğŸš€ ä¸ºä»€ä¹ˆé€‰æ‹©Pipelinesï¼Ÿ

- **æ— é™å¯èƒ½ï¼š** è½»æ¾æ·»åŠ è‡ªå®šä¹‰é€»è¾‘å¹¶é›†æˆPythonåº“ï¼Œä»AIæ™ºèƒ½ä½“åˆ°æ™ºèƒ½å®¶å±…APIï¼Œåº”æœ‰å°½æœ‰ã€‚
- **æ— ç¼é›†æˆï¼š** å…¼å®¹æ‰€æœ‰æ”¯æŒOpenAI APIè§„èŒƒçš„UI/å®¢æˆ·ç«¯ã€‚ï¼ˆæ³¨ï¼šä»…æ”¯æŒpipeç±»å‹çš„pipelinesï¼›filterç±»å‹éœ€è¦å®¢æˆ·ç«¯ç‰¹åˆ«æ”¯æŒPipelinesï¼‰
- **è‡ªå®šä¹‰é’©å­ï¼š** æ„å»ºå’Œé›†æˆä½ è‡ªå·±çš„pipelinesã€‚

### åº”ç”¨ç¤ºä¾‹ï¼š

- [**Function Calling Pipeline**](https://github.com/open-webui/pipelines/blob/main/examples/filters/function_calling_filter_pipeline.py)ï¼šè½»æ¾å¤„ç†å‡½æ•°è°ƒç”¨ï¼Œä½¿ç”¨è‡ªå®šä¹‰é€»è¾‘å¢å¼ºåº”ç”¨åŠŸèƒ½ã€‚
- [**è‡ªå®šä¹‰RAG Pipeline**](https://github.com/open-webui/pipelines/blob/main/examples/pipelines/rag/llamaindex_pipeline.py)ï¼šå®ç°å®šåˆ¶åŒ–çš„æ£€ç´¢å¢å¼ºç”Ÿæˆï¼ˆRAGï¼‰ç®¡é“ã€‚
- [**åŸºäºLangfuseçš„æ¶ˆæ¯ç›‘æ§**](https://github.com/open-webui/pipelines/blob/main/examples/filters/langfuse_filter_pipeline.py)ï¼šä½¿ç”¨Langfuseå®æ—¶ç›‘æ§å’Œåˆ†ææ¶ˆæ¯äº¤äº’ã€‚
- [**è®¿é—®é¢‘ç‡é™åˆ¶è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/rate_limit_filter_pipeline.py)ï¼šæ§åˆ¶è¯·æ±‚æµé‡ï¼Œé˜²æ­¢è¶…å‡ºè®¿é—®é™åˆ¶ã€‚
- [**LibreTranslateå®æ—¶ç¿»è¯‘è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/libretranslate_filter_pipeline.py)ï¼šåœ¨LLMäº¤äº’ä¸­æ— ç¼é›†æˆå®æ—¶ç¿»è¯‘åŠŸèƒ½ã€‚
- [**æœ‰å®³å†…å®¹è¿‡æ»¤å™¨**](https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py)ï¼šå®ç°æ™ºèƒ½è¿‡æ»¤ï¼Œæœ‰æ•ˆæ£€æµ‹å’Œå¤„ç†æœ‰å®³æ¶ˆæ¯ã€‚
- **æ›´å¤šå¯èƒ½ï¼**ï¼šå€ŸåŠ©Pipelineså’ŒPythonï¼Œä½ çš„åˆ›é€ åŠ›å°±æ˜¯æé™ã€‚å¿«æ¥[æŸ¥çœ‹æˆ‘ä»¬çš„è„šæ‰‹æ¶é¡¹ç›®](https://github.com/open-webui/pipelines/blob/main/examples/scaffolds)ï¼ŒåŠ é€Ÿä½ çš„å¼€å‘è¿›ç¨‹ï¼

## ğŸ”§ å·¥ä½œåŸç†

<p align="center">
  <a href="#">
    <img src="/img/pipelines/workflow.png" alt="Pipelineså·¥ä½œæµç¨‹" />
  </a>
</p>

å°†Pipelinesä¸æ”¯æŒOpenAI APIçš„UIå®¢æˆ·ç«¯é›†æˆéå¸¸ç®€å•ã€‚åªéœ€å¯åŠ¨Pipelineså®ä¾‹ï¼Œç„¶åå°†å®¢æˆ·ç«¯çš„OpenAI URLè®¾ç½®ä¸ºPipelines URLå³å¯ã€‚è¿™æ ·ï¼Œä½ å°±å¯ä»¥å……åˆ†åˆ©ç”¨ä»»ä½•Pythonåº“æ¥å®ç°ä½ çš„éœ€æ±‚äº†ã€‚

## âš¡ Dockerå¿«é€Ÿå¯åŠ¨

:::warning
Pipelinesæ˜¯ä¸€ä¸ªå¯æ‰§è¡Œä»»æ„ä»£ç çš„æ’ä»¶ç³»ç»Ÿâ€”â€”**è¯·åŠ¡å¿…ä¸è¦ä»ä¸å—ä¿¡ä»»çš„æ¥æºè·å–random pipelines**ã€‚
:::

ä½¿ç”¨Dockerå¿«é€Ÿéƒ¨ç½²ï¼š

1. **è¿è¡ŒPipelineså®¹å™¨ï¼š**

   ```sh
   docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
   ```

2. **è¿æ¥Open WebUIï¼š**

   - è¿›å…¥Open WebUIçš„**ç®¡ç†é¢æ¿ > è®¾ç½® > è¿æ¥**é¡µé¢ã€‚
   - ç‚¹å‡»`+`æŒ‰é’®æ·»åŠ æ–°è¿æ¥ã€‚
   - è®¾ç½®API URLä¸º`http://localhost:9099`ï¼ŒAPIå¯†é’¥ä¸º`0p3n-w3bu!`ã€‚
   - æ·»åŠ å¹¶éªŒè¯pipelinesè¿æ¥åï¼ŒAPI Base URLå­—æ®µä¸­ä¼šæ˜¾ç¤ºä¸€ä¸ªå›¾æ ‡ã€‚é¼ æ ‡æ‚¬åœæ—¶ä¼šæ˜¾ç¤º`Pipelines`æ ‡ç­¾ã€‚æ­¤æ—¶ä½ çš„pipelinesåº”è¯¥å·²ç»æ¿€æ´»ã€‚

:::info
å¦‚æœä½ çš„Open WebUIè¿è¡Œåœ¨Dockerå®¹å™¨ä¸­ï¼Œè¯·å°†API URLä¸­çš„`localhost`æ”¹ä¸º`host.docker.internal`ã€‚
:::

3. **é…ç½®ç®¡ç†ï¼š**

   - åœ¨ç®¡ç†é¢æ¿ä¸­ï¼Œè½¬åˆ°**ç®¡ç†é¢æ¿ > è®¾ç½® > Pipelines**æ ‡ç­¾é¡µã€‚
   - é€‰æ‹©ç›®æ ‡pipelineï¼Œç›´æ¥åœ¨WebUIä¸­ä¿®æ”¹valveï¼ˆé˜€é—¨ï¼‰å‚æ•°ã€‚

:::tip
å¦‚æœæ— æ³•è¿æ¥ï¼Œå¾ˆå¯èƒ½æ˜¯Dockerç½‘ç»œé…ç½®é—®é¢˜ã€‚å»ºè®®ä½ å…ˆè‡ªè¡Œæ’æŸ¥ï¼Œå¹¶åœ¨è®¨è®ºåŒºåˆ†äº«ä½ çš„è§£å†³æ–¹æ¡ˆã€‚
:::

å¦‚éœ€å®‰è£…å¸¦æœ‰é¢å¤–ä¾èµ–çš„è‡ªå®šä¹‰pipelineï¼š

- **æ‰§è¡Œä»¥ä¸‹å‘½ä»¤ï¼š**

  ```sh
  docker run -d -p 9099:9099 --add-host=host.docker.internal:host-gateway -e PIPELINES_URLS="https://github.com/open-webui/pipelines/blob/main/examples/filters/detoxify_filter_pipeline.py" -v pipelines:/app/pipelines --name pipelines --restart always ghcr.io/open-webui/pipelines:main
  ```

å¦å¤–ï¼Œå¦‚æœpipelineæ²¡æœ‰é¢å¤–ä¾èµ–é¡¹ï¼Œä½ ä¹Ÿå¯ä»¥ç›´æ¥åœ¨ç®¡ç†è®¾ç½®ä¸­é€šè¿‡å¤åˆ¶ç²˜è´´pipeline URLæ¥å®‰è£…ã€‚

å¤§åŠŸå‘Šæˆï¼ç°åœ¨ä½ å¯ä»¥å¼€å§‹ä½¿ç”¨Pipelinesè½»æ¾æ„å»ºè‡ªå®šä¹‰AIé›†æˆäº†ã€‚å¼€å§‹ä½ çš„æ¢ç´¢ä¹‹æ—…å§ï¼

## ğŸ“¦ å®‰è£…ä¸é…ç½®

æŒ‰ç…§ä»¥ä¸‹æ­¥éª¤å¼€å§‹ä½¿ç”¨Pipelinesï¼š

1. **ç¡®ä¿å·²å®‰è£…Python 3.11ã€‚** è¿™æ˜¯ç›®å‰å”¯ä¸€å®˜æ–¹æ”¯æŒçš„Pythonç‰ˆæœ¬ã€‚
2. **å…‹éš†Pipelinesä»£ç ä»“åº“ï¼š**

   ```sh
   git clone https://github.com/open-webui/pipelines.git
   cd pipelines
   ```

3. **å®‰è£…ä¾èµ–åŒ…ï¼š**

   ```sh
   pip install -r requirements.txt
   ```

4. **å¯åŠ¨PipelinesæœåŠ¡ï¼š**

   ```sh
   sh ./start.sh
   ```

æœåŠ¡å¯åŠ¨åï¼Œå°†å®¢æˆ·ç«¯çš„OpenAI URLè®¾ç½®ä¸ºPipelines URLã€‚è¿™æ ·å°±èƒ½è§£é”Pipelinesçš„å…¨éƒ¨åŠŸèƒ½ï¼Œè®©ä½ èƒ½å¤Ÿé›†æˆä»»ä½•Pythonåº“å¹¶åˆ›å»ºæ»¡è¶³ç‰¹å®šéœ€æ±‚çš„è‡ªå®šä¹‰å·¥ä½œæµã€‚

## ğŸ“‚ ç›®å½•ç»“æ„ä¸ç¤ºä¾‹

`/pipelines`ç›®å½•æ˜¯æ•´ä¸ªç³»ç»Ÿçš„æ ¸å¿ƒã€‚ä½ å¯ä»¥åœ¨è¿™é‡Œæ·»åŠ æ–°æ¨¡å—ã€è‡ªå®šä¹‰ç°æœ‰æ¨¡å—å¹¶ç®¡ç†å·¥ä½œæµã€‚æœåŠ¡å™¨å¯åŠ¨æ—¶ä¼š**è‡ªåŠ¨åŠ è½½**`/pipelines`ç›®å½•ä¸­çš„æ‰€æœ‰pipelinesã€‚

ä½ å¯ä»¥é€šè¿‡è®¾ç½®`PIPELINES_DIR`ç¯å¢ƒå˜é‡å°†æ­¤ç›®å½•ä»`/pipelines`æ›´æ”¹ä¸ºå…¶ä»–ä½ç½®ã€‚

### é›†æˆç¤ºä¾‹

åœ¨`https://github.com/open-webui/pipelines/blob/main/examples`ç›®å½•ä¸­æä¾›äº†ä¸°å¯Œçš„é›†æˆç¤ºä¾‹ã€‚è¿™äº›ç¤ºä¾‹å±•ç¤ºäº†å¦‚ä½•é›†æˆå„ç§åŠŸèƒ½ï¼Œä¸ºä½ æ„å»ºè‡ªå®šä¹‰pipelinesæä¾›äº†è‰¯å¥½çš„èµ·ç‚¹ã€‚

## ğŸ‰ æŒç»­è¿›åŒ–ä¸­

æˆ‘ä»¬æ­£åœ¨ä¸æ–­å‘å±•ï¼éå¸¸æ¬¢è¿ä½ çš„åé¦ˆï¼Œå‘Šè¯‰æˆ‘ä»¬å“ªäº›é’©å­å’ŒåŠŸèƒ½æœ€é€‚åˆä½ çš„ä½¿ç”¨åœºæ™¯ã€‚éšæ—¶åŠ å…¥Open WebUIç¤¾åŒºï¼Œä¸æˆ‘ä»¬äº¤æµï¼

æˆ‘ä»¬çš„æ„¿æ™¯æ˜¯å°†**Pipelines**æ‰“é€ æˆä¸ºAIç•Œé¢**Open WebUI**çš„ç»ˆææ’ä»¶æ¡†æ¶ã€‚è¯•æƒ³**Open WebUI**å°±åƒAIç•Œé¢é¢†åŸŸçš„WordPressï¼Œè€Œ**Pipelines**åˆ™æ˜¯å®ƒå¼ºå¤§è€Œä¸°å¯Œçš„æ’ä»¶ç”Ÿæ€ç³»ç»Ÿã€‚å¿«æ¥åŠ å…¥è¿™ä¸ªæ¿€åŠ¨äººå¿ƒçš„æ—…ç¨‹å§ï¼ğŸŒ
